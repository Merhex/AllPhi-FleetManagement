@page "/licensePlates/details/{identifier}"

<Heading Size="HeadingSize.Is3">Details for license plate: @Identifier</Heading>
<Divider />


<Heading Size="HeadingSize.Is4">History</Heading>
<Loader Loading="@IsInitializing">
    <Accordion>
        @for (int i = 0; i < LicensePlate.History.Count; i++)
        {
            int local = i;
            <Collapse Visible="@CollapseDictionary[local]">
                <CollapseHeader>
                    <Heading Size="HeadingSize.Is5">
                        <Button Clicked="@(() => CollapseDictionary[local] = ! CollapseDictionary[local])">
                            @(LicensePlate.History[local].SnapshotDate.ToShortDateString())
                        </Button>
                    </Heading>
                </CollapseHeader>
                <CollapseBody>
                    <Paragraph>@(LicensePlate.History[local].MotorVehicle.Brand) @(LicensePlate.History[local].MotorVehicle.Model), with chassis number: @(LicensePlate.History[local].MotorVehicle.ChassisNumber)</Paragraph>
                    <Paragraph>The status of the license plate was changed to: @(Activity(LicensePlate.History[local].InUse))</Paragraph>
                </CollapseBody>
            </Collapse>
        }
    </Accordion>
</Loader>